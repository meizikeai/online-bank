(self.webpackChunkonline_bank=self.webpackChunkonline_bank||[]).push([[158],{754:(e,t,a)=>{e.exports=a(628)(540)},6819:(e,t,a)=>{e.exports=a(628)(556)},5363:(e,t,a)=>{e.exports=a(628)(624)},1177:(e,t,a)=>{e.exports=a(628)(961)},628:e=>{"use strict";e.exports=vendors_f89e558885f16e048a25},2097:(e,t,a)=>{"use strict";var n=a(754),l=a(5338),r=a(245),c=a(6819),s=a(5448),m=(a(5363),a(973));class o extends n.Component{constructor(e){super(e),this.state={}}handleLogo=()=>{location.href="/"};handleUser=()=>{localStorage.removeItem("token"),location.href="/login"};handleType=({key:e})=>{location.href=e};render(){return n.createElement("div",{className:"bank-header"},n.createElement("div",{className:"logo",onClick:this.handleLogo,role:"presentation"},n.createElement("span",null)),n.createElement("div",{className:"type"},n.createElement(m.A,{theme:"dark",mode:"horizontal",onClick:this.handleType,defaultSelectedKeys:["/admin"]},n.createElement(m.A.Item,{key:"/"},"网上银行首页"),n.createElement(m.A.Item,{key:"/admin"},"用户管理系统"))),n.createElement("div",{className:"admin"},n.createElement("div",{className:"users",onClick:this.handleUser},n.createElement("span",null,"退出"))))}}o.propTypes={selectKey:c.string};const i=o;class d extends n.Component{constructor(e){super(e),this.state={}}render(){return n.createElement("div",{className:"bank-footer"},n.createElement("div",{className:"copyright"},n.createElement("p",null,`©${(new Date).getFullYear()} Bank All Rights Reserved.`)))}}var E=a(7920);const u=({selectKey:e})=>{const[t,a]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=localStorage.getItem("token");fetch("/api/admin/share/type",{headers:{Authorization:`bearer ${e}`,"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{200===e.code?a(e.data):location.href="/login"})).catch((e=>{console.error(e),location.href="/login"}))}),[]),n.createElement(m.A,{mode:"inline",defaultSelectedKeys:[e],defaultOpenKeys:["user"],style:{height:"100%"},onClick:({key:e})=>{const t={1:"/admin",2:"/admin/user",3:"/admin/balance",4:"/admin/transfer",5:"/admin/trading",6:"/admin/password"};t[e]&&(location.href=t[e])},admin:{admin:t}},n.createElement(m.A.SubMenu,{key:"user",icon:n.createElement(E.A,null),title:"管理系统"},n.createElement(m.A.Item,{key:"1"},n.createElement("span",null,"中心首页")),n.createElement(m.A.Item,{key:"2"},n.createElement("span",null,"个人资料")),n.createElement(m.A.Item,{key:"3"},n.createElement("span",null,"帐户总览")),n.createElement(m.A.Item,{key:"4"},n.createElement("span",null,"转帐汇款")),n.createElement(m.A.Item,{key:"5"},n.createElement("span",null,"交易明细")),n.createElement(m.A.Item,{key:"6"},n.createElement("span",null,"修改密码"))))};u.propTypes={selectKey:c.string};const p=u;class h extends n.Component{constructor(){super(),this.state={}}render(){const{breadcrumb:e,selectKey:t,children:a}=this.props;return n.createElement(s.A,null,n.createElement(s.A.Header,null,n.createElement(i,null)),n.createElement(s.A.Content,{style:{padding:"0 50px"}},e,n.createElement(s.A,{className:"site-layout-background"},n.createElement(s.A.Sider,{className:"site-layout-background",width:200},n.createElement(p,{selectKey:t})),n.createElement(s.A.Content,{style:{minHeight:280}},a))),n.createElement(s.A.Footer,null,n.createElement(d,null)))}}h.propTypes={breadcrumb:c.node,selectKey:c.string,children:c.node};const y=h;class g extends n.Component{constructor(e){super(e),this.state={data:{money:0,earning:0,financial:0,gold:0,available:0,overdraft:0,repayment:0}}}componentDidMount(){const e=localStorage.getItem("token");fetch("/api/admin/balance/getbalance",{headers:{Authorization:`bearer ${e}`,"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{200===e.code&&(console.log(e.data),this.setState({data:e.data}))})).catch((e=>{console.error(e)}))}render(){const{data:e}=this.state,t=n.createElement(r.A,{style:{margin:"16px 0"}},n.createElement(r.A.Item,null,"Home"),n.createElement(r.A.Item,null,"admin"),n.createElement(r.A.Item,null,"balance"));return n.createElement(y,{breadcrumb:t,selectKey:"3"},n.createElement("div",{className:"bank-admin-balance"},n.createElement("h3",{className:"title"},"帐户总览"),n.createElement("div",{className:"box-one"},n.createElement("div",{className:"one"},n.createElement("span",{className:"aa"},"总资产(元)"),n.createElement("span",{className:"bb"},(e.money+e.earning+e.financial+e.gold).toFixed(2))),n.createElement("div",{className:"two"},n.createElement("span",{className:"aa"},"总负债(元)"),n.createElement("span",{className:"bb"},e&&(e.overdraft+e.repayment).toFixed(2))),n.createElement("div",{className:"san"},n.createElement("div",{className:"three"},n.createElement("h4",null,"一卡通帐号"),n.createElement("ul",{className:"list"},n.createElement("li",null,n.createElement("span",{className:"type"},"卡号：",e.card)),n.createElement("li",null,n.createElement("div",{className:"let"},"活期帐户"),n.createElement("div",{className:"rig"},e.money.toFixed(2))),n.createElement("li",null,n.createElement("div",{className:"let"},"朝盈宝"),n.createElement("div",{className:"rig"},e.earning.toFixed(2))),n.createElement("li",null,n.createElement("div",{className:"let"},"理财产品"),n.createElement("div",{className:"rig"},e.financial.toFixed(2))),n.createElement("li",null,n.createElement("div",{className:"let"},"黄金活期"),n.createElement("div",{className:"rig"},e.gold.toFixed(2))))),n.createElement("div",{className:"three"},n.createElement("h4",null,"信用卡"),n.createElement("ul",{className:"list"},n.createElement("li",null,n.createElement("span",{className:"type"},"个人消费帐户")),n.createElement("li",null,n.createElement("div",{className:"let"},"可用额度"),n.createElement("div",{className:"rig"},e.available.toFixed(2))),n.createElement("li",null,n.createElement("div",{className:"let"},"信用卡透支"),n.createElement("div",{className:"rig"},e.overdraft.toFixed(2))),n.createElement("li",null,n.createElement("div",{className:"let"},"本期剩余应还人民币"),n.createElement("div",{className:"rig"},e.repayment.toFixed(2)))))))))}}l.createRoot(document.querySelector("#app")).render(n.createElement(g,null))}},e=>{e.O(0,[121],(()=>{return t=2097,e(e.s=t);var t}));e.O()}]);